(this.webpackJsonpmanga=this.webpackJsonpmanga||[]).push([[26],{102:function(e,t,a){"use strict";var n=a(2),i=a(0),r=a(1),o=a.n(r),c=(a(9),a(10)),s=a(14),l=[0,1,2,3,4,5,6,7,8,9,10],d=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=parseFloat(e);return"".concat(a/t).concat(String(e).replace(String(a),"")||"px")}var p=o.a.forwardRef((function(e,t){var a=e.alignContent,r=void 0===a?"stretch":a,s=e.alignItems,l=void 0===s?"stretch":s,d=e.classes,g=e.className,p=e.component,m=void 0===p?"div":p,u=e.container,f=void 0!==u&&u,b=e.direction,h=void 0===b?"row":b,x=e.item,v=void 0!==x&&x,j=e.justify,y=void 0===j?"flex-start":j,w=e.lg,O=void 0!==w&&w,S=e.md,E=void 0!==S&&S,I=e.sm,A=void 0!==I&&I,C=e.spacing,k=void 0===C?0:C,L=e.wrap,R=void 0===L?"wrap":L,N=e.xl,M=void 0!==N&&N,W=e.xs,B=void 0!==W&&W,z=e.zeroMinWidth,T=void 0!==z&&z,G=Object(n.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),H=Object(c.a)(d.root,g,f&&[d.container,0!==k&&d["spacing-xs-".concat(String(k))]],v&&d.item,T&&d.zeroMinWidth,"row"!==h&&d["direction-xs-".concat(String(h))],"wrap"!==R&&d["wrap-xs-".concat(String(R))],"stretch"!==l&&d["align-items-xs-".concat(String(l))],"stretch"!==r&&d["align-content-xs-".concat(String(r))],"flex-start"!==y&&d["justify-xs-".concat(String(y))],!1!==B&&d["grid-xs-".concat(String(B))],!1!==A&&d["grid-sm-".concat(String(A))],!1!==E&&d["grid-md-".concat(String(E))],!1!==O&&d["grid-lg-".concat(String(O))],!1!==M&&d["grid-xl-".concat(String(M))]);return o.a.createElement(m,Object(i.a)({className:H,ref:t},G))})),m=Object(s.a)((function(e){return Object(i.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var a={};return l.forEach((function(n){var i=e.spacing(n);0!==i&&(a["spacing-".concat(t,"-").concat(n)]={margin:"-".concat(g(i,2)),width:"calc(100% + ".concat(g(i),")"),"& > $item":{padding:g(i,2)}})})),a}(e,"xs"),{},e.breakpoints.keys.reduce((function(t,a){return function(e,t,a){var n={};d.forEach((function(e){var t="grid-".concat(a,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");n[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else n[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else n[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===a?Object(i.a)(e,n):e[t.breakpoints.up(a)]=n}(t,e,a),t}),{}))}),{name:"MuiGrid"})(p);t.a=m},152:function(e,t,a){"use strict";var n=a(25);t.a=Object(n.a)({palette:{type:localStorage.getItem("dark")?"dark":"light",primary:{main:"#8bc34a"},secondary:{main:"#8bc34a"}},overrides:{MuiPaper:{boxShadow:"0 3px 12px 0 rgba(218,224,235,.6)",elevation1:{boxShadow:"0 3px 12px 0 rgba(218,224,235,.6)"},elevation2:{boxShadow:"0 5px 26px 0 rgba(218,224,235,.6)"},elevation3:{boxShadow:"0 8px 20px 0 rgba(218,224,235,.6)"}}}})},169:function(e,t,a){"use strict";var n=a(2),i=a(4),r=a(0),o=a(1),c=a.n(o),s=(a(9),a(10)),l=a(14),d=a(167),g=c.a.forwardRef((function(e,t){var a,i=e.classes,o=e.className,l=e.component,g=void 0===l?"li":l,p=e.disableGutters,m=void 0!==p&&p,u=e.role,f=void 0===u?"menuitem":u,b=e.selected,h=e.tabIndex,x=Object(n.a)(e,["classes","className","component","disableGutters","role","selected","tabIndex"]);return e.disabled||(a=void 0!==h?h:-1),c.a.createElement(d.a,Object(r.a)({button:!0,role:f,tabIndex:a,component:g,selected:b,disableGutters:m,classes:{dense:i.dense},className:Object(s.a)(i.root,o,b&&i.selected,!m&&i.gutters),ref:t},x))}));t.a=Object(l.a)((function(e){return{root:Object(r.a)({},e.typography.body1,Object(i.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(r.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(g)},371:function(e,t,a){"use strict";var n=a(0),i=a(2),r=a(1),o=a.n(r),c=(a(9),a(10)),s=a(14),l=a(15),d=a(372),g=o.a.forwardRef((function(e,t){var a=e.classes,r=e.className,s=e.color,g=void 0===s?"primary":s,p=e.position,m=void 0===p?"fixed":p,u=Object(i.a)(e,["classes","className","color","position"]);return o.a.createElement(d.a,Object(n.a)({square:!0,component:"header",elevation:4,className:Object(c.a)(a.root,a["position".concat(Object(l.a)(m))],a["color".concat(Object(l.a)(g))],r,"fixed"===m&&"mui-fixed"),ref:t},u))}));t.a=Object(s.a)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static",transform:"translateZ(0)"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(g)},373:function(e,t,a){"use strict";var n=a(0),i=a(2),r=a(4),o=a(1),c=a.n(o),s=(a(9),a(10)),l=a(14),d=c.a.forwardRef((function(e,t){var a=e.classes,r=e.className,o=e.component,l=void 0===o?"div":o,d=e.disableGutters,g=void 0!==d&&d,p=e.variant,m=void 0===p?"regular":p,u=Object(i.a)(e,["classes","className","component","disableGutters","variant"]);return c.a.createElement(l,Object(n.a)({className:Object(s.a)(a.root,a[m],r,!g&&a.gutters),ref:t},u))}));t.a=Object(l.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(r.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(d)},386:function(e,t,a){},529:function(e,t,a){"use strict";a.r(t);var n=a(86),i=a(55),r=a(1),o=a.n(r),c=a(58),s=a(166),l=a(169),d=a(560),g=a(561),p=(a(386),a(102)),m=a(366),u=a(157),f=a(371),b=a(373),h=a(57),x=(a(152),a(62)),v=Object(s.a)((function(e){return{root:{background:"linear-gradient(to top, transparent, rgb(0, 0, 0))",boxShadow:"none"},toolBar:{display:"flex",alignItems:"start",paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5),minHeight:80},divider:{height:30,margin:e.spacing(1)},button:{margin:e.spacing(.5)},logo:{position:"relative",padding:e.spacing(.5)},title:{paddingTop:10,paddingRight:4,color:"#fff"},subTitle:{color:"#fff",fontWeight:"400",lineHeight:"0.57"},formControl:{color:"#fff"},tuneIcon:{position:"absolute",right:e.spacing(1.5),top:e.spacing(1)}}})),j=Object(s.a)({root:{color:"#8bc34a",paddingTop:11,paddingBottom:11,paddingLeft:10},icon:{color:"#8bc34a"}}),y=Object(c.c)((function(e){var t=e.mangaStore,a=e.chapterId,n=e.mangaId,i=v(),r=j();return o.a.createElement(f.a,{className:i.root},o.a.createElement(b.a,{className:i.toolBar},o.a.createElement(u.a,{component:h.b,to:"/",src:"/l.png",className:i.logo}),o.a.createElement(h.b,{to:x.b.Manga.link(n)},o.a.createElement(m.a,{variant:"button",component:"h6",className:i.title},t.manga.isLoading||t.manga.title),o.a.createElement(m.a,{variant:"subtitle2 button",component:"h6",className:i.subTitle},t.manga.isLoading||t.manga.englishTitle)),o.a.createElement(d.a,{variant:"outlined"},o.a.createElement(g.a,{classes:r,value:a},t.manga.isLoading||t.manga.chapters&&t.manga.chapters.map((function(e){return o.a.createElement(l.a,{component:h.b,to:x.b.ReadManga.link(t.manga.id,e.id),key:"select_chap_".concat(e.id),value:e.id},"".concat(e.volume,"-").concat(e.chapter))}))))))})),w=a(367),O=a(230),S=function(e){var t=e.src,a=e.alt,n=e.style,c=Object(r.useState)("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkqAcAAIUAgUW0RjgAAAAASUVORK5CYII="),s=Object(i.a)(c,2),l=s[0],d=s[1],g=Object(r.useState)(),p=Object(i.a)(g,2),m=p[0],u=p[1];return Object(r.useEffect)((function(){var e,a=!1;return m&&l!==t&&(IntersectionObserver?(e=new IntersectionObserver((function(n){n.forEach((function(n){!a&&(n.intersectionRatio>0||n.isIntersecting)&&(d(t),e.unobserve(m))}))}),{threshold:.01,rootMargin:"75%"})).observe(m):d(t)),function(){a=!0,e&&e.unobserve&&e.unobserve(m)}}),[t,l,m]),o.a.createElement("img",{style:n,ref:u,src:l,alt:a,onLoad:function(e){e.target.classList.add("loaded")},onError:function(e){e.target.classList.add("has-error")}})},E=a(269),I=Object(s.a)({root:{minHeight:"100vh"},select:{bottom:10,left:10,position:"fixed"}}),A=Object(s.a)({"@global":{body:{background:"rgb(33, 33, 33)"}},root:{color:"#8bc34a",paddingTop:11,paddingBottom:11,paddingLeft:10,background:"rgb(33, 33, 33)"},icon:{color:"#8bc34a",transform:"rotate(180deg)"},iconOpen:{transform:"rotate(0deg)"}}),C=Object(c.c)((function(e){var t=e.mangaStore,a=e.chapterId,n=e.mangaId;if(t.isLoading)return null;var i=t.manga.chapters.findIndex((function(e){return e.id==a}));if(i!==t.manga.chapters.length-1)var r=t.manga.chapters[i+1].id;if(i>0)var c=t.manga.chapters[i-1].id;return o.a.createElement(o.a.Fragment,null,r&&o.a.createElement(w.a,{component:h.b,to:x.b.ReadManga.link(n,r),style:{margin:12},size:"large",color:"secondary"},"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430"),c&&o.a.createElement(w.a,{style:{margin:12},component:h.b,to:x.b.ReadManga.link(n,c),size:"large",color:"secondary"},"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0433\u043b\u0430\u0432\u0430"))})),k=Object(c.c)((function(e){var t=e.mangaStore,a=e.chapterStore,n=o.a.createRef(),i=Object(O.i)(),c=i.mangaId,s=i.chapterId;Object(r.useEffect)((function(){parseInt(c)!==t.manga.id&&t.fetchManga(c),a.fetchChapter(s)}),[s]);var l=I(),d=A();return o.a.createElement("div",{style:{display:"flexColum",justifyContent:"center"}},o.a.createElement(y,{mangaStore:t,mangaId:c,chapterId:s}),o.a.createElement(L,{imgListRef:n,chapterStore:a,classesSelect:d,classes:l}),o.a.createElement(p.a,{direction:"column",ref:n,container:!0,spacing:2,justify:"center"},a.isLoading||a.chapter&&a.chapter.imgList.map((function(e,t){return o.a.createElement(p.a,{style:{display:"flex"},justify:"center",xs:12,id:t+1,key:"chpater_read_img_".concat(t),item:!0},o.a.createElement(S,{style:{maxWidth:"100%",minHeight:300},src:e.url}))})),o.a.createElement(p.a,{style:{display:"flex",width:"100%",justifyContent:"center"},item:!0},o.a.createElement(C,{mangaStore:t,chapterId:s,mangaId:c}))))}));function L(e){var t=e.imgListRef,a=e.chapterStore,c=e.classesSelect,s=e.classes,p=Object(r.useState)(1),m=Object(i.a)(p,2),u=m[0],f=m[1],b=Object(E.throttle)((function(){if(t.current){var e=window.innerHeight/2,a=Object(n.a)(t.current.children).find((function(t){return t.getBoundingClientRect().top+e>0})).id;f(a)}}),2e3);return Object(r.useEffect)((function(){return window.addEventListener("scroll",b),function(){return window.removeEventListener("scroll",b)}}),[t]),o.a.createElement(d.a,{variant:"outlined"},o.a.createElement(g.a,{classes:c,className:s.select,value:u||(a.chapter.imgList?a.chapter.imgList.length:0)},a.isLoading||a.chapter&&a.chapter.imgList.map((function(e,t){return o.a.createElement(l.a,{component:"a",href:"#".concat(a.chapter.imgList.length-t),value:a.chapter.imgList.length-t},"".concat(a.chapter.imgList.length-t,"/").concat(a.chapter.imgList.length))}))))}t.default=Object(c.b)("mangaStore","chapterStore")(k)}}]);
//# sourceMappingURL=26.be671a78.chunk.js.map