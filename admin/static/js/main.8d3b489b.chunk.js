(this["webpackJsonptest-admin"]=this["webpackJsonptest-admin"]||[]).push([[0],{598:function(e,t,a){e.exports=a(895)},602:function(e,t,a){},603:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},604:function(e,t,a){},895:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(17),l=a.n(c),o=(a(602),a(603),a(604),a(68)),s=a(502),m=a(478),u=a(510),i=a(509),E=a(511),d=a.n(E),g=a(501),f=a(500),h=a(180),p=a(165),b=a(85),w=a(169),v=a(167),A=a(168),S=a(498),k=a(135),I=a(291),y=a(84),O=a(294),P=a(318),j=a(293),T=function(e){var t=e.record,a=e.source;return r.createElement("span",null,0===t[a]?"\u043d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d":1===t[a]?"\u043c\u0443\u0436\u0447\u0438\u043d\u0430":"\u0436\u0435\u043d\u0449\u0438\u043d\u0430")},C=function(e){return r.createElement(g.a,e,r.createElement(f.a,{label:"username",source:"username",alwaysOn:!0}))},x=function(e){return r.createElement(h.b,Object.assign({},e,{filters:r.createElement(C,null),title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}),r.createElement(p.a,{rowClick:"edit"},r.createElement(b.a,{source:"id"}),r.createElement(b.a,{source:"username"}),r.createElement(w.a,{source:"email"}),r.createElement(T,{source:"gender"}),r.createElement(b.a,{source:"banStatus"}),r.createElement(v.a,{source:"isAdmin"}),r.createElement(v.a,{source:"isOnline"}),r.createElement(v.a,{source:"showProfile"}),r.createElement(v.a,{source:"friendliness"}),r.createElement(A.a,{source:"createdAt"}),r.createElement(S.a,null)))},J=function(e){return r.createElement(k.b,e,r.createElement(I.a,null,r.createElement(y.a,{disabled:!0,source:"id"}),r.createElement(y.a,{source:"email"}),r.createElement(y.a,{source:"username"}),r.createElement(y.a,{source:"location"}),r.createElement(y.a,{source:"firstName"}),r.createElement(y.a,{source:"lastName"}),r.createElement(O.a,{step:1,max:2,min:0,source:"gender"}),r.createElement(y.a,{source:"imgUrl"}),r.createElement(y.a,{source:"coverUrl"}),r.createElement(P.a,{source:"isAdmin"}),r.createElement(P.a,{source:"isOnline"}),r.createElement(P.a,{source:"showProfile"}),r.createElement(P.a,{source:"friendliness"}),r.createElement(O.a,{source:"banStatus"}),r.createElement(j.a,{source:"createdAt"}),r.createElement(j.a,{source:"updatedAt"})))},B=function(e){return r.createElement(g.a,e,r.createElement(f.a,{label:"comment",source:"comment",alwaysOn:!0}))},N=function(e){return r.createElement(h.b,Object.assign({},e,{filters:r.createElement(B,null),title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}),r.createElement(p.a,{rowClick:"edit"},r.createElement(b.a,{source:"id"}),r.createElement(b.a,{source:"userId"}),r.createElement(b.a,{source:"mangaId"}),r.createElement(b.a,{source:"value"}),r.createElement(b.a,{source:"comment"}),r.createElement(b.a,{source:"banStatus"}),r.createElement(A.a,{source:"createdAt"}),r.createElement(S.a,null)))},U=function(e){return r.createElement(k.b,e,r.createElement(I.a,null,r.createElement(y.a,{disabled:!0,source:"id"}),r.createElement(O.a,{disabled:!0,source:"userId"}),r.createElement(O.a,{disabled:!0,source:"mangaId"}),r.createElement(b.a,{source:"value"}),r.createElement(b.a,{source:"comment"}),r.createElement(O.a,{source:"banStatus"}),r.createElement(j.a,{source:"createdAt"})))},H=a(317),W=a(312),_=function(e){return r.createElement(h.b,Object.assign({},e,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"}),r.createElement(p.a,{rowClick:"edit"},r.createElement(b.a,{source:"id"}),r.createElement(b.a,{source:"mangaId"}),r.createElement(b.a,{source:"volume"}),r.createElement(b.a,{source:"chapter"}),r.createElement(b.a,{source:"title"}),r.createElement(b.a,{source:"banStatus"}),r.createElement(A.a,{source:"createdAt"}),r.createElement(A.a,{source:"updatedAt"}),r.createElement(S.a,null)))},q=function(e){return r.createElement(k.b,e,r.createElement(I.a,null,r.createElement(O.a,{disabled:!0,source:"id"}),r.createElement(O.a,{disabled:!0,source:"mangaId"}),r.createElement(O.a,{source:"banStatus"}),r.createElement(y.a,{source:"volume"}),r.createElement(y.a,{source:"chapter"}),r.createElement(y.a,{source:"title"}),r.createElement(H.a,{source:"imgList"},r.createElement(W.a,null,r.createElement(O.a,{source:"w"}),r.createElement(O.a,{source:"h"}),r.createElement(y.a,{source:"url"}))),r.createElement(j.a,{source:"createdAt"}),r.createElement(j.a,{source:"updatedAt"})))},z=a(245),L=function(e){return r.createElement(z.b,e,r.createElement(I.a,null,r.createElement(y.a,{source:"text"})))},M=function(e){return r.createElement(k.b,e,r.createElement(I.a,null,r.createElement(y.a,{source:"text"})))},R=a(170),V=function(e){return r.createElement(g.a,e,r.createElement(f.a,{label:"Title",source:"title",alwaysOn:!0}))},$=function(e){return r.createElement(h.b,Object.assign({},e,{filters:r.createElement(V,null)}),r.createElement(p.a,{rowClick:"edit"},r.createElement(b.a,{disabled:!0,source:"id"}),r.createElement(b.a,{source:"title"}),r.createElement(b.a,{source:"englishTitle"}),r.createElement(b.a,{source:"otherTitles"}),r.createElement(b.a,{source:"author"}),r.createElement(b.a,{source:"description"}),r.createElement(R.a,{source:"year"}),r.createElement(R.a,{source:"viewsCount"}),r.createElement(b.a,{source:"ratingValue"}),r.createElement(R.a,{source:"banStatus"}),r.createElement(A.a,{source:"createdAt"}),r.createElement(A.a,{source:"updatedAt"})))},D=function(e){return r.createElement(k.b,e,r.createElement(I.a,null,r.createElement(y.a,{disabled:!0,source:"id"}),r.createElement(y.a,{source:"imgUrl"}),r.createElement(y.a,{source:"title"}),r.createElement(y.a,{source:"englishTitle"}),r.createElement(y.a,{source:"author"}),r.createElement(y.a,{source:"description"}),r.createElement(O.a,{source:"year"}),r.createElement(O.a,{source:"viewsCount"}),r.createElement(R.a,{source:"statusId"}),r.createElement(H.a,{source:"otherTitles"},r.createElement(W.a,null,r.createElement(y.a,null))),r.createElement(O.a,{source:"banStatus"}),r.createElement(j.a,{source:"createdAt"}),r.createElement(j.a,{source:"updatedAt"})))},F=a(563),G=a.n(F),K={login:function(e){var t=e.username,a=e.password,r=new Request("".concat("https://manga-in.space/server-api","/auth/login"),{method:"POST",body:JSON.stringify({username:t,password:a}),headers:new Headers({"Content-Type":"application/json"})});return fetch(r).then((function(e){if(e.status<200||e.status>=300)throw new Error(e.statusText);return e.json()})).then((function(e){console.log(e);var t=G()(e.access_token);if(!t.isAdmin)throw new Error("\u0442\u0435\u0431\u0435 \u043d\u0435\u043b\u044c\u0437\u044f");console.log(t),localStorage.setItem("atoken",e.access_token),localStorage.setItem("permissions","admin")}))},logout:function(){return localStorage.removeItem("atoken"),localStorage.removeItem("permissions"),Promise.resolve()},checkError:function(e){},checkAuth:function(){return localStorage.getItem("atoken")?Promise.resolve():Promise.reject()},getPermissions:function(){var e=localStorage.getItem("permissions");return e?Promise.resolve(e):Promise.reject()}},Q=d()("".concat("https://manga-in.space/server-api","/admin"),(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.headers||(t.headers=new Headers({Accept:"application/json"}));var a=localStorage.getItem("atoken");return t.headers.set("Authorization","Bearer ".concat(a)),o.g.fetchJson(e,t)})),X=function(){return n.a.createElement(s.a,{dataProvider:Q,authProvider:K},n.a.createElement(m.a,{name:"user",list:x,edit:J}),n.a.createElement(m.a,{name:"comment",list:N,edit:U}),n.a.createElement(m.a,{name:"manga",list:$,edit:D}),n.a.createElement(m.a,{name:"chapter",list:_,edit:q}),n.a.createElement(m.a,{name:"genre",list:u.a,edit:i.a}),n.a.createElement(m.a,{name:"format",list:u.a,edit:i.a}),n.a.createElement(m.a,{name:"type",list:u.a,edit:i.a}),n.a.createElement(m.a,{name:"status",list:u.a,edit:i.a}),n.a.createElement(m.a,{name:"news",list:u.a,edit:M,create:L}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[598,1,2]]]);
//# sourceMappingURL=main.8d3b489b.chunk.js.map